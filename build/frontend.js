(()=>{function e(e){document.querySelectorAll(".marketo-form-container").forEach(o=>{o.innerHTML=`\n      <div class="marketo-form-error" style="color: #e74c3c; border: 1px solid #e74c3c; padding: 15px; background: #fdf3f2;">\n        <p><strong>Error:</strong> ${e}</p>\n        <p>Please check the browser console for more details.</p>\n      </div>\n    `})}jQuery(document).ready(function(o){if(console.log("[Marketo Debug] jQuery ready, initializing Marketo form handler"),"undefined"==typeof marketo)return console.warn("[Marketo Debug] No global marketo configuration found"),void e("Marketo configuration not found. Please check your settings.");if(console.log("[Marketo Debug] Found global marketo configuration:",marketo),"undefined"==typeof MktoForms2)return console.error("[Marketo Debug] MktoForms2 is not loaded"),void e("Marketo Forms API not loaded. Please check if the script is being blocked by your browser.");console.log("[Marketo Debug] MktoForms2 is loaded"),MktoForms2.version&&console.log("[Marketo Debug] MktoForms2 version:",MktoForms2.version),window.performance&&window.performance.getEntries&&setTimeout(function(){const e=window.performance.getEntries().filter(e=>e.name.includes("marketo.com"));console.log("[Marketo Debug] Network requests to Marketo:",e.length),e.forEach(e=>{console.log(`[Marketo Debug] Request: ${e.name}, Duration: ${e.duration}ms, Status: ${e.responseStatus||"unknown"}`)})},3e3),document.addEventListener("marketo:form:success",function(e){console.log("[Marketo Debug] Form submitted successfully",e.detail)}),document.addEventListener("marketo:form:error",function(e){console.error("[Marketo Debug] Form submission error",e.detail)});var t,r,n="data-id",a={podId:marketo.url,munchkinId:marketo.api,formIds:Array.prototype.slice.call(document.querySelectorAll(".mktoForm")).map(e=>e.getAttribute(n))};a.formIds.length>0?(console.log("[Marketo Debug] Initializing forms with config:",a),t=a,r=Function.prototype.call.bind(Array.prototype.slice),MktoForms2.whenRendered(function(e){console.log("[Marketo Debug] Form rendered:",e),e.getFormElem().removeAttr("style"),document.querySelectorAll(".mktoHasWidth").forEach(function(e){e.removeAttribute("style")});var o=e.getFormElem()[0],t="_"+(new Date).getTime()+Math.random();Array.prototype.slice.call(document.querySelectorAll("#mktoForms2ThemeStyle, #mktoForms2BaseStyle, .mktoAsterix, .mktoOffset, .mktoGutter, .mktoClear")).forEach(function(e){e.parentNode.removeChild(e)}),r(o.querySelectorAll("label[for]")).forEach(function(e){var r=o.querySelector('[id="'+e.htmlFor+'"]');r&&(e.htmlFor=r.id=r.id+t)}),document.querySelector(".mktoRadioList")&&document.querySelector(".mktoRadioList").parentElement.parentElement.classList.add("radio-list-fix"),Array.prototype.slice.call(document.querySelectorAll(".mktoField")).forEach(function(e){e.addEventListener("focus",e=>{e.target.parentElement.parentElement.classList.add("form-field--is-active")}),e.addEventListener("blur",e=>{e.target.parentElement.parentElement.classList.remove("form-field--is-active"),""===e.target.value?e.target.parentElement.parentElement.classList.remove("form-field--is-filled"):e.target.parentElement.parentElement.classList.add("form-field--is-filled")})})}),MktoForms2.whenReady(function(e){console.log("[Marketo Debug] Form ready:",e);var o=e.getFormElem()[0];e.onValidate(function(o){o&&e.submittable(!0)}),e.onSuccess(function(t,r){return console.log("[Marketo Debug] Form submitted successfully"),dispatchFormSuccessEvent(t,o.getAttribute(n)),"message"===o.getAttribute("data-confirmation-type")&&(e.getFormElem().hide(),e.getFormElem()[0].nextElementSibling.style.display="block"),"redirect"===o.getAttribute("data-confirmation-type")&&(location.href=o.getAttribute("data-link")),!1})}),r(t.formIds).forEach(function(e){console.log("[Marketo Debug] Loading form ID:",e);var o=MktoForms2.loadForm.bind(MktoForms2,t.podId,t.munchkinId,e);!function t(r){var n=r.shift();n.id="mktoForm_"+e,o(function(e){n.id="",r.length&&t(r)})}(r(document.querySelectorAll("["+n+'="'+e+'"]')))})):console.warn("[Marketo Debug] No Marketo forms found on page")}),window.dispatchFormSuccessEvent=function(e,o){const t=new CustomEvent("marketo:form:success",{detail:{values:e,formId:o}});document.dispatchEvent(t)},window.dispatchFormErrorEvent=function(e,o){const t=new CustomEvent("marketo:form:error",{detail:{error:e,formId:o}});document.dispatchEvent(t)}})();